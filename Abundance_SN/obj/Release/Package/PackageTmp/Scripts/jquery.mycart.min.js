(function(n){"use strict";var r=function(){var t={},i=null,r={currencySymbol:"$",classCartIcon:"my-cart-icon",classCartBadge:"my-cart-badge",classProductQuantity:"my-product-quantity",classProductRemove:"my-product-remove",classCheckoutCart:"my-cart-checkout",affixCartIcon:!0,showCheckoutModal:!0,numberOfDecimals:2,cartItems:null,clickOnAddToCart:function(){},afterAddOnCart:function(){},checkoutCart:function(){return!1},getDiscountPrice:function(){return null}},u=function(t){i=n.extend({},r);typeof t=="object"&&n.extend(i,t)},f=function(){return i};return t.loadOptions=u,t.getOptions=f,t}(),i=function(){var n={},t=function(n){if(isNaN(n))throw new Error("Parameter is not a Number");n=n*1;var t=r.getOptions();return n.toFixed(t.numberOfDecimals)};return n.getRoundedNumber=t,n}(),t=function(){var t={};localStorage.products=localStorage.products?localStorage.products:"";var o=function(t,i){var u=-1,f=r();return n.each(f,function(n,r){if(r.id==t&&r.productOptionId==i){u=n;return}}),u},u=function(n){localStorage.products=JSON.stringify(n)},e=function(n,t,i,f,e,o,s,h,c,l,a,v,y){var p=r();p.push({id:n,name:t,summary:i,price:f,quantity:e,image:o,productOptionId:s,key1:h,key2:c,key3:l,value1:a,value2:v,value3:y});u(p)},r=function(){try{return JSON.parse(localStorage.products)}catch(t){return[]}},f=function(n,t,i){var e=o(n,i),f;return e<0?!1:(f=r(),f[e].quantity=t==="undefined"?f[e].quantity*1+1:t,u(f),!0)},s=function(t,i,r,u,o,s,h,c,l,a,v,y,p){if(document.getElementById("btnkey1")){if(h!=""&&h!=undefined&&h!="0"){if(typeof t=="undefined")return console.error("id required"),!1;if(typeof i=="undefined")return console.error("name required"),!1;if(typeof s=="undefined")return console.error("image required"),!1;if(!n.isNumeric(u))return console.error("price is not a number"),!1;if(!n.isNumeric(o))return console.error("quantity is not a number"),!1;if(h==="")return console.error("size is not defined is not seleced for the particular product"),!1;r=typeof r=="undefined"?"":r;f(t,o,h)||e(t,i,r,u,o,s,h,c,l,a,v,y,p)}}else if(document.getElementById("productButton")&&h!=""&&h!=undefined&&h!="0"){if(typeof t=="undefined")return console.error("id required"),!1;if(typeof i=="undefined")return console.error("name required"),!1;if(typeof s=="undefined")return console.error("image required"),!1;if(!n.isNumeric(u))return console.error("price is not a number"),!1;if(!n.isNumeric(o))return console.error("quantity is not a number"),!1;if(r=typeof r=="undefined"?"":r,h===""&&h!="0")return console.error("product Options is not seleced for the particular product"),!1;f(t,"undefined",h)||e(t,i,r,u,o,s,h,c,l,a,v,y,p)}},h=function(){u([])},c=function(t,i){var f=r();f=n.grep(f,function(n){return n.id!=t||n.productOptionId!=i});u(f)},l=function(){var t=0,i=r();return n.each(i,function(n,i){t+=i.quantity*1}),t},a=function(){var u=r(),t=0;return n.each(u,function(n,r){t+=r.quantity*r.price;t=i.getRoundedNumber(t)*1}),t};return t.getAllProducts=r,t.updatePoduct=f,t.setProduct=s,t.clearProduct=h,t.removeProduct=c,t.getTotalQuantity=l,t.getTotalPrice=a,t}(),u=function(){var u=r.getOptions(),f=n("."+u.classCartIcon),e=n("."+u.classCartBadge),o=u.classProductQuantity,k=u.classProductRemove,d=u.classCheckoutCart,s="my-cart-modal",c="my-cart-table",l="my-cart-grand-total",a="my-cart-empty-message",g="my-cart-discount-price",v="my-product-total",y="my-cart-icon-affix",h="subtotal",b,rt;u.cartItems&&u.cartItems.constructor===Array&&(t.clearProduct(),n.each(u.cartItems,function(){t.setProduct(this.id,this.name,this.summary,this.price,this.quantity,this.image,this.Size,this.key1,this.key2,this.key3,this.value1,this.value2,this.value3)}));e.text(t.getTotalQuantity());n("#"+s).length||n("body").append('<div class="modal fade" id="'+s+'" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><h4 class="modal-title" id="myModalLabel"><span class="glyphicon glyphicon-shopping-cart"><\/div><div class="modal-body"><table class="table table-hover table-responsive" id="'+c+'"><\/table><\/div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close<\/button><a type="button" class="btn btn-primary" href="/Customer/Payment/Cart">Checkout<\/a><\/div><\/div><\/div><\/div>');var nt=function(){var f=n("#"+c),r,e;f.empty();r=t.getAllProducts();n.each(r,function(){var n=this.quantity*this.price;f.append('<tr title="'+this.summary+'" data-id="'+this.id+'" data-price="'+this.price+'"><td class="text-center" style="width: 30px;"><img width="30px" height="30px" src="/EasyShop'+this.image.trim()+'"/><\/td><td>'+this.name+'<\/td><td title="Unit Price" class="text-right">'+u.currencySymbol+i.getRoundedNumber(this.price)+'<\/td><td title="Quantity"><input type="number" min="1" style="width: 70px;" class="'+o+'" value="'+this.quantity+'"/><\/td><td title="Total" class="text-right '+v+'">'+u.currencySymbol+i.getRoundedNumber(n)+'<\/td><td title="Remove from Cart" class="text-center" style="width: 30px;"><a href="javascript:void(0);" class="btn btn-xs btn-danger removeModalProduct">X<\/a><\/td><\/tr>')});f.append(r.length?'<tr><td><\/td><td><strong>Total<\/strong><\/td><td><\/td><td><\/td><td class="text-right"><strong id="'+l+'"><\/strong><\/td><td><\/td><\/tr>':'<div class="alert alert-danger" role="alert" id="'+a+'">Your cart is empty<\/div>');e=u.getDiscountPrice(r,t.getTotalPrice(),t.getTotalQuantity());p();w()},tt=function(){nt();n("#"+s).modal("show")},it=function(){n.each(n("."+o),function(){var i=n(this).closest("tr").data("id");t.updatePoduct(i,n(this).val())})},p=function(){n("#"+l).text(u.currencySymbol+i.getRoundedNumber(t.getTotalPrice()))},w=function(){n("#"+g).text(u.currencySymbol+i.getRoundedNumber(u.getDiscountPrice(t.getAllProducts(),t.getTotalPrice(),t.getTotalQuantity())))};u.affixCartIcon&&(b=f.offset().top*1+f.css("height").match(/\d+/)*1,rt=f.css("position"),n(window).scroll(function(){n(window).scrollTop()>=b?f.addClass(y):f.removeClass(y)}));f.click(function(){u.showCheckoutModal?tt():u.clickOnCartIcon(f,t.getAllProducts(),t.getTotalPrice(),t.getTotalQuantity())});n(document).on("input","."+o,function(){var f=n(this).closest("tr").data("price"),o=n(this).closest("tr").data("id"),r=n(this).val();n(this).parent("td").next("."+v).text(u.currencySymbol+i.getRoundedNumber(f*r));t.updatePoduct(o,r);e.text(t.getTotalQuantity());p();w()});n(document).on("keypress","."+o,function(n){n.keyCode!=38&&n.keyCode!=40&&n.preventDefault()});n(document).on("click","."+k,function(){n("."+h).text("");var f=n(".totalCartAmountId").text(""),i=n(this).closest("div"),r=i.attr("id"),u=i.attr("size");i.hide(500,function(){t.removeProduct(r,u);var i="₦"+t.getTotalPrice();e.text(t.getTotalQuantity());n("."+h).text(i);n(".totalCartAmountId").append(i);(t.getTotalQuantity()=="0"||t.getTotalQuantity()=="")&&(n("#cartBody").html(""),n("#cartBody").append('<div class="alert alert-danger" role="alert"> Your cart is empty<\/div>'))})});n(document).on("click",".removeModalProduct",function(){n("."+h).text("");var i=n(this).closest("div"),r=i.attr("size"),u=i.attr("id");i.hide(500,function(){t.removeProduct(u,r);var i="₦"+t.getTotalPrice();e.text(t.getTotalQuantity());n("."+h).text(i);n(".totalCartAmountId").append(i);(t.getTotalQuantity()=="0"||t.getTotalQuantity()=="")&&(n("#cartBody").html(""),n("#cartBody").append('<div class="alert alert-danger" role="alert"> Your cart is empty<\/div>'))})});n(document).on("click","."+d,function(){var r=t.getAllProducts(),i;if(!r.length){n("#"+a).fadeTo("fast",.5).fadeTo("fast",1);return}it();i=u.checkoutCart(t.getAllProducts(),t.getTotalPrice(),t.getTotalQuantity());i!==!1&&(t.clearProduct(),e.text(t.getTotalQuantity()),n("#"+s).modal("hide"))});n(document).on("click",".my-cart-btn",function(i){var r=n("#"+this.id),o,s,f;if(u.clickOnAddToCart(r),o=r.data("id"),o!=undefined){s=r.data("name");f=r.data("summary");f=escape(f);var h=r.attr("price"),c=r.attr("data-quantity"),l=r.attr("image"),a=r.attr("size"),v=r.attr("Key1"),y=r.attr("Key2"),p=r.attr("Key3"),w=r.attr("Value1"),b=r.attr("Value2"),k=r.attr("Value3");t.setProduct(o,s,f,h,c,l,a,v,y,p,w,b,k);e.text(t.getTotalQuantity());u.afterAddOnCart(t.getAllProducts(),t.getTotalPrice(),t.getTotalQuantity())}else i.stopPropagation()})};n.fn.myCart=function(n){return r.loadOptions(n),u(this.selector),this}})(jQuery);
//# sourceMappingURL=jquery.mycart.min.js.map
